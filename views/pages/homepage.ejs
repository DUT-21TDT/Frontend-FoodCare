<div class="container-fluid" id="container_w100">
  <div id="slider">
    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="../assets/images/delicious-healthy-asian-food-white-background.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="../assets/images/fried-rice-with-shrimp-prawn-top-white-plate.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="../assets/images/lifestyle-food-pasta-yummy-gourmet.jpg" class="d-block w-100" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</div>

<div id="content">
  <div class="container food_in4" id="food_information">
    <div class="row text-center pt-4">
      <h1>Food Information</h1>
      <p style="font-size: 25px;">Provide you more knowledge about nutrition</p>
    </div>
    <div class="row justify-content-md-center pt-5">
      <div class="col-lg-6">
        <div class="input-group food_search-input">
          <input type="search" class="form-control rounded search_box" placeholder="Search" aria-label="Search"
            aria-describedby="search-addon" />
        </div>
      </div>
      <div class="row d-flex justify-content-md-center pt-5">
        <div class="col-lg-9 d-flex justify-content-md-between food_result-container">

        </div>
      </div>
      <div class="btn-toolbar justify-content-md-center result_page food_page-btn" role="toolbar"
        aria-label="Toolbar with button groups">
        <!-- <div class="btn-group me-2" role="group" aria-label="First group">
          <button type="button" class="btn btn-primary">1</button>
          <button type="button" class="btn btn-primary">2</button>
          <button type="button" class="btn btn-primary">3</button>
        </div>
        <div class="spacing"></div>
        <div class="btn-group me-2" role="group" aria-label="Second group">
          <button type="button" class="btn btn btn-primary">68</button>
          <button type="button" class="btn btn btn-primary">69</button>
        </div> -->
      </div>
    </div>
  </div>
  <!-- BMI CALCULATOR -->
  <div class="container bmi_cal" id="bmi_calculator">
    <div class="row text-center pt-4">
      <h1>Fill your information</h1>
      <p style="font-size: 25px;">To calculate your BMI and know the suitable menu</p>
    </div>
    <div class="g-col-9 pt-5 d-flex justify-content-between bmi_container">
      <div class="bmi_img">
        <img src="../assets/images/bmi_pic.jpg" style="height: 400px; width: 400px;" alt="">
      </div>
      <form action="" class="fill_info">
        <div class="bmi_input">
          <input placeholder="Your weight is ... (kg)" type="text" class="weight_input">
          <i class="fa-solid fa-weight-scale fa-xl"></i>
        </div>
        <div class="bmi_input">
          <input placeholder="Your height is ... (cm)" type="text" class="height_input">
          <i class="fa-solid fa-ruler-vertical fa-xl"></i>
        </div>
        <div class="bmi_input">
          <input placeholder="Your BMI is ..." type="text" class="bmi_result" readonly>
          <i class="fa-solid fa-calculator fa-xl"></i>
        </div>
      </form>
    </div>

    <div class="g-col-5 d-flex justify-content-center pt-5 bmi_btn">
      <% if (user) { %>
        <a href="/user/profile" class="cal_btn info_btn text-center">
          <% } else { %>
            <a class="cal_btn info_btn js-click-login text-center">
              <% } %>
                More information
            </a>
            <button type="button" class="cal_btn calculator-bmi-js">Calculate</button>
    </div>
  </div>

  <!-- Menu nutrition -->
  <div class="container food_in4 menu_nutrition" id="menu_nutrition">
    <div class="row text-center pt-4">
      <h1>Menu</h1>
      <p style="font-size: 25px;">Create your favorite menu and more...</p>
    </div>
    <div class="row justify-content-md-center pt-5">
      <div class="col-lg-6">
        <div class="input-group">
          <input type="search" class="form-control rounded search_box" placeholder="Search" aria-label="Search"
            aria-describedby="search-addon" />
          <button type="button" class="btn btn-primary search_btn">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
      <div class="row d-flex justify-content-md-center pt-5">
        <div class="col-lg-9 d-flex justify-content-md-between ">
          <div class="search_result">
            <a href="#">
              <img class="search_img" src="../assets/images/menu_img/flat-lay-delicious-food-arrangement.jpg" alt="">
              <p class="text-center">Bữa trưa</p>
            </a>
          </div>
          <div class="search_result">
            <a href="#">
              <img class="search_img" src="../assets/images/menu_img/top-view-delicious-meal-arrangement.jpg" alt="">
              <p class="text-center">Bữa trưa</p>
            </a>
          </div>
          <div class="search_result">
            <a href="#">
              <img class="search_img"
                src="../assets/images/menu_img/top-view-plate-with-keto-diet-food-toast-with-salmon-fillet.jpg" alt="">
              <p class="text-center">Bữa trưa</p>
            </a>
          </div>
          <div class="search_result">
            <a href="#">
              <img class="search_img" src="../assets/images/menu_img/top-view-veggie-salad-bowls-with-couscous-nuts.jpg"
                alt="">
              <p class="text-center">Bữa trưa</p>
            </a>
          </div>
        </div>
      </div>
      <div class="btn-toolbar justify-content-md-center result_page" role="toolbar"
        aria-label="Toolbar with button groups">
        <div class="btn-group me-2" role="group" aria-label="First group">
          <button type="button" class="btn btn-primary">1</button>
          <button type="button" class="btn btn-primary">2</button>
          <button type="button" class="btn btn-primary">3</button>
        </div>
        <div class="spacing"></div>
        <div class="btn-group me-2" role="group" aria-label="Second group">
          <button type="button" class="btn btn btn-primary">68</button>
          <button type="button" class="btn btn btn-primary">69</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Food Suggestion -->
  <div class="container food_suggest" id="food_suggestion">
    <div class="row text-center pt-4 ">
      <h1>Food Suggestion</h1>
      <p style="font-size: 25px;">Help you to decide what to eat immediately...</p>
    </div>

    <div class="row text-center pt-5 justify-content-md-center">
      <div class="col-lg-6">
        <div class="input-group">
          <input type="search" class="form-control rounded search_box" placeholder="Search" aria-label="Search"
            aria-describedby="search-addon" />
          <button type="button" class="btn btn-primary search_btn">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
    </div>

    <div class="g-col-3 justify-content-md-center">
      <div class="row text-center justify-content-md-center random_container">
        <h2>You want to eat...</h2>
        <div class="random_result">
          <div class="ran_img_container">
            <img src="../assets/images/search_img/search-1.jpg" class="rand_img" alt="">
          </div>
          <h2 class="pt-4 pb-4">Phở</h2>
        </div>
        <% if (user) { %>
          <button class="rand-btn random_js-btn">
            <% } else { %>
              <button class="rand-btn js-click-login">
                <% } %>
                  RANDOM
              </button>
      </div>
    </div>

  </div>

</div>

<script src="../assets/js/randomBtn.js"></script>


<script>
  $(document).ready(function () {
    $("#login-form").validate();
    $("#signup-form").validate();

  });
</script>

<script>
  $(".calculator-bmi-js").click(function (event) {
    event.preventDefault();
    var h = $(".height_input").val();
    var w = $(".weight_input").val();
    var height = parseFloat(h / 100);
    var weight = parseFloat(w);
    if (isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
      // Nếu không hợp lệ, hiển thị kết quả là "Không hợp lệ"
      $('.bmi_result').val('Vui lòng nhập thông tin hợp lệ');
    } else {
      // Nếu hợp lệ, tính chỉ số BMI và hiển thị kết quả
      var bmi = weight / (height * height);
      $('.bmi_result').val("Your BMI is " + bmi.toFixed(2));
      var status;
      if (bmi < 16) {
        status = 'Gầy độ III';
      } else if (bmi >= 16 && bmi < 17) {
        status = 'Gầy độ II';
      } else if (bmi >= 17 && bmi < 18.5) {
        status = 'Gầy độ I';
      } else if (bmi >= 18.5 && bmi < 25) {
        status = 'Bình thường';
      }
      else if (bmi >= 25 && bmi < 30) {
        status = 'Thừa cân';
      }
      else if (bmi >= 30 && bmi < 35) {
        status = 'Béo phì độ I';
      }
      else if (bmi >= 35 && bmi < 40) {
        status = 'Béo phì độ II';
      }
      else if (bmi >= 40) {
        status = 'Béo phì độ III';
      }
    }


    var pElements = $('.bmi_input:last').siblings('p:first');
    if (pElements.length > 0) {
      pElements.text('BMI cho rằng sức khoẻ của bạn là ' + status);
    } else {
      $('.bmi_input:last').after('<p style = "color : var(--secondary); font-size:1.1rem; font-weight: 500">' + 'Chỉ số BMI cho thấy rằng sức khoẻ của bạn là ' + status + '</p>');
    }
  }
  )
</script>

<script>
  const signUp = document.querySelectorAll('.js-click-register')
  const registerModal = document.querySelector('.js-userregister_modal')
  const registerModalContainer = document.querySelector('.js-register-container')

  const login = document.querySelectorAll('.js-click-login')
  const loginModal = document.querySelector('.js-user_modal')
  const modalContainer = document.querySelector('.js-login_container')

  const modalClose = document.querySelectorAll('.js-modal-close')
  function showModal() {
    registerModal.classList.remove('open')
    loginModal.classList.add('open')
  }

  function showRegisterModal() {
    loginModal.classList.remove('open')
    registerModal.classList.add('open')
  }

  function hideModal() {
    loginModal.classList.remove('open')
    registerModal.classList.remove('open')
  }

  for (const loginBtn of login) {
    loginBtn.addEventListener('click', showModal);
  }

  for (const signupBtn of signUp) {
    signupBtn.addEventListener('click', showRegisterModal)
  }

  for (const closeBtn of modalClose) {
    closeBtn.addEventListener('click', hideModal)
  }

  loginModal.addEventListener('click', hideModal)
  registerModal.addEventListener('click', hideModal)

  modalContainer.addEventListener('click', function (event) {
    event.stopPropagation()
  })

  registerModalContainer.addEventListener('click', function (event) {
    event.stopPropagation()
  })
</script>

<script src="../assets/js/getData.js"></script>

<script>
  $(document).ready(function () {
    $('.paginationjs-page').addClass('btn btn btn-primary');
  })
</script>